(function(n,p){var f=function(){var a=n.querySelectorAll(".js-filter-wrapper"),b=a.length,c=n.querySelectorAll(".js-filter-triggers"),d=c.length;this.els={};this.attrs={base:"data-filter-",visible:"data-filter-visible",active:"data-filter-active",disabled:"data-filter-disabled",key:"data-filter-key",value:"data-filter-value"};for(var e=0,g,h;e<b;e++)g=a[e],h="#"+g.id,this.els[h]={},this.els[h].items=g.querySelectorAll(".js-filter-item"),this.els[h].filters={},this.els[h].triggers={};for(a=0;a<d;a++)b=
c[a],g=b.querySelector("["+this.attrs.key+"]"),e=g.getAttribute("href"),g=g.getAttribute(this.attrs.key),this.els[e].filters[g]=!1,this.els[e].triggers[g]=b,b.addEventListener("click",this.onTriggerClick.bind(this),!1);return{instances:this.els,reset:this.cleanFilters}};f.prototype.clone=function(a){if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b=1;b<arguments.length;b++){var c=arguments[b];if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,
d)&&(a[d]=c[d])}return a};f.prototype.onTriggerClick=function(a){a.preventDefault();var b=a.target,c;if("A"===b.nodeName&&!b.hasAttribute(this.attrs.disabled))return a=b.getAttribute("href"),c=b.getAttribute(this.attrs.key),b=b.getAttribute(this.attrs.value),this.cleanFilters(a),this.setActiveFilter(a,c,b),"reset"!==b?this.newFilters(a,c,b):this.newFilters(a,c,!1),this.checkRelevantFilters(a),!1};f.prototype.checkRelevantFilters=function(a){a=this.els[a];var b=a.items.length,c,d,e;for(e in a.triggers){d=
a.triggers[e].querySelectorAll("["+this.attrs.key+"]");c=d.length;for(var g=0,h=[],f,m,l,k;g<c;g++){f=d[g];m=this.clone({},a.filters);l=f.getAttribute(this.attrs.key);k=f.getAttribute(this.attrs.value);"reset"===k&&(k=!1);m[l]=k;for(l=0;l<b;l++)k=a.items[l],this.filterEl(k,m)&&h.push(k);0<h.length?f.removeAttribute(this.attrs.disabled):0===h.length&&f.setAttribute(this.attrs.disabled,"");h.length=0}}};f.prototype.setActiveFilter=function(a,b,c){a=this.els[a];a.filters[b]="reset"===c?!1:c;b=a.triggers[b].querySelectorAll("["+
this.attrs.key+'="'+b+'"]');a=b.length;for(var d=0,e;d<a;d++)e=b[d],e.getAttribute(this.attrs.value)===c?e.setAttribute(this.attrs.active,""):e.removeAttribute(this.attrs.active)};f.prototype.cleanFilters=function(a){a=this.els[a].items;for(var b=a.length,c=0,d;c<b;c++)d=a[c],d.style.removeProperty("display")};f.prototype.newFilters=function(a,b,c){a=this.els[a];var d=a.items,e=d.length;a.filters[b]=c;for(b=0;b<e;b++)c=d[b],this.filterEl(c,a.filters)?c.setAttribute(this.attrs.visible,""):(c.style.display=
"none",c.removeAttribute(this.attrs.visible))};f.prototype.filterEl=function(a,b){var c=[],d,e;for(e in b)d=b[e],c.push(a.getAttribute(this.attrs.base+e)===d||!1===d);return c.every(function(a){return!0===a})};p.simpleFilter=new f})(document,window,void 0);